<div class="auth-container">
  <div class="auth-content">
    <div class="auth-image">
      <img src="assets/images/vinos.avif" alt="Vinos Costeros">
    </div>

    <div class="auth-form">
      <div class="card auth-card">
        <div class="card-body">
          <h2 class="mb-32">Bienvenido a Vinos Costeros</h2>
          <h4 class="mb-32">Registro</h4>

          <!-- Mensaje de error si el registro falla -->
          <div *ngIf="authError" class="alert error">{{ authError }}</div>

          <!-- Formulario de Registro -->
          <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <!-- Campo de Email -->
            <mat-form-field class="w-100 fs-16" appearance="outline">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email" placeholder="Introduce tu email">
              <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
                El email es obligatorio.
              </mat-error>
              <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
                El formato del email no es válido.
              </mat-error>
            </mat-form-field>

            <!-- Campo de Contraseña -->
            <mat-form-field class="w-100 fs-16" appearance="outline">
              <mat-label>Contraseña</mat-label>
              <input matInput type="password" formControlName="password" placeholder="Introduce tu contraseña">
              <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
                La contraseña es obligatoria.
              </mat-error>
              <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
                La contraseña debe tener al menos 6 caracteres.
              </mat-error>
            </mat-form-field>

            <!-- Campo para Confirmar Contraseña -->
            <mat-form-field class="w-100 fs-16" appearance="outline">
              <mat-label>Confirmar Contraseña</mat-label>
              <input matInput type="password" formControlName="confirmPassword" placeholder="Confirma tu contraseña">
              <mat-error *ngIf="registerForm.get('confirmPassword')?.hasError('required')">
                Confirmar la contraseña es obligatorio.
              </mat-error>
              <mat-error *ngIf="registerForm.value.password !== registerForm.value.confirmPassword && !registerForm.get('confirmPassword')?.hasError('required')">
                Las contraseñas no coinciden.
              </mat-error>
            </mat-form-field>

            <!-- Selector de Rol -->
            <mat-form-field class="w-100 fs-16" appearance="outline">
              <mat-label>Rol</mat-label>
              <mat-select formControlName="role" placeholder="Selecciona un rol">
                <mat-option *ngFor="let role of roles" [value]="role">{{ role }}</mat-option>
              </mat-select>
              <mat-error *ngIf="registerForm.get('role')?.hasError('required')">
                El rol es obligatorio.
              </mat-error>
            </mat-form-field>

            <!-- Botones de acción -->
            <div style="display: flex; justify-content: center; gap: 16px;">
              <button mat-flat-button color="accent" type="button" (click)="goToLogin()">Ir a Login</button>
              <button mat-flat-button color="primary" [disabled]="registerForm.invalid" type="submit">Registrarse</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
