<div class="card styled-card">
  <div class="card-header styled-card-header">
    <h4 class="styled-title">{{ isEditing ? 'Editar Siembra' : 'Registrar Siembra' }}</h4>
  </div>
  <div class="card-body styled-card-body">
    <form [formGroup]="siembraForm" (ngSubmit)="registrarSiembra()">

      <!-- Seleccionar Parcela -->
      <mat-form-field class="form-field" appearance="fill">
        <mat-label>Parcela</mat-label>
        <mat-icon matPrefix>map</mat-icon>
        <input matInput formControlName="parcela" required>
        <mat-error *ngIf="siembraForm.get('parcela')?.invalid && siembraForm.get('parcela')?.touched">
          La parcela es requerida.
        </mat-error>
      </mat-form-field>

      <!-- Variedad de Uva -->
      <mat-form-field class="form-field" appearance="fill">
        <mat-label>Variedad de Uva</mat-label>
        <mat-icon matPrefix>local_florist</mat-icon>
        <input matInput formControlName="variedadUva" required>
        <mat-error *ngIf="siembraForm.get('variedadUva')?.invalid && siembraForm.get('variedadUva')?.touched">
          La variedad de uva es requerida.
        </mat-error>
      </mat-form-field>

      <!-- Fecha de Siembra -->
      <mat-form-field class="form-field" appearance="fill">
        <mat-label>Fecha de Siembra</mat-label>
        <mat-icon matPrefix>calendar_today</mat-icon>
        <input matInput formControlName="fechaSiembra" type="date" required>
        <mat-error *ngIf="siembraForm.get('fechaSiembra')?.invalid && siembraForm.get('fechaSiembra')?.touched">
          La fecha de siembra es requerida.
        </mat-error>
      </mat-form-field>

      <!-- Cantidad Sembrada -->
      <mat-form-field class="form-field" appearance="fill">
        <mat-label>Cantidad Sembrada</mat-label>
        <mat-icon matPrefix>grain</mat-icon>
        <input matInput formControlName="cantidadSembrada" type="number" required>
        <mat-error *ngIf="siembraForm.get('cantidadSembrada')?.invalid && siembraForm.get('cantidadSembrada')?.touched">
          La cantidad sembrada es requerida.
        </mat-error>
      </mat-form-field>

      <!-- Estado de la Siembra -->
      <mat-form-field class="form-field" appearance="fill">
        <mat-label>Estado de la Siembra</mat-label>
        <mat-icon matPrefix>eco</mat-icon>
        <mat-select formControlName="estadoSiembra" required>
          <mat-option value="Creciendo">Creciendo</mat-option>
          <mat-option value="Plagas">Plagas</mat-option>
          <mat-option value="Cosechado">Cosechado</mat-option>
        </mat-select>
        <mat-error *ngIf="siembraForm.get('estadoSiembra')?.invalid && siembraForm.get('estadoSiembra')?.touched">
          El estado de la siembra es requerido.
        </mat-error>
      </mat-form-field>

      <!-- Plagas -->
      <mat-checkbox formControlName="plagas">Â¿Plagas detectadas?</mat-checkbox>

      <!-- Comentarios -->
      <mat-form-field class="form-field" appearance="fill">
        <mat-label>Comentarios</mat-label>
        <mat-icon matPrefix>comment</mat-icon>
        <textarea matInput formControlName="comentarios"></textarea>
      </mat-form-field>

      <!-- Botones -->
      <div class="button-group">
        <button mat-flat-button color="primary" type="submit" [disabled]="siembraForm.invalid">
          <mat-icon>save</mat-icon> {{ isEditing ? 'Actualizar Siembra' : 'Registrar Siembra' }}
        </button>
        <button mat-flat-button color="warn" type="button" (click)="limpiarFormulario()">
          <mat-icon>cancel</mat-icon> Cancelar
        </button>
      </div>
    </form>
  </div>
</div>
